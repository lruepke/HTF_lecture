
<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Exercise 1: Fluid properties &mdash; HydrothermalFoam Lecture  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=3d3fbe02" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../../_static/tabs.css?v=4c969af8" />
      <link rel="stylesheet" type="text/css" href="../../_static/plot_directive.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/style.css?v=379f3234" />

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../_static/documentation_options.js?v=5929fcd5"></script>
        <script src="../../_static/doctools.js?v=888ff710"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../_static/tabs.js?v=3ee01567"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Thermodynamic properties of pure water" href="plot_water_properties.html" />
    <link rel="prev" title="Upflow temperatures in submarine hydrothermal systems" href="intro.html" /> 
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-EJ32EEFYRN"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-EJ32EEFYRN');
    </script>   

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            HydrothermalFoam Lecture
              <img src="../../_static/DRP_vert_cover.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
    
              <p class="caption" role="heading"><span class="caption-text">Course information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../general-info/course-details.html">Course details</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Lecture 1</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../L01/Overview.html">Lecture overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L01/Installation.html">Installation guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L01/OpenFoam.html">Getting started with OpenFoam</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L01/FirstCase.html">A first test case - heat diffusion</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Lecture 2</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../L02/Overview.html">Lecture overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L02/Example.html">Navier-Stokes flow with OpenFoam</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L02/Exercise.html">Excercise</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Lecture 3</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../L03/Overview.html">Lecture overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L03/intro.html">Digital Rock Physics - Effective Permeability of Rocks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L03/FirstCase.html">Flow on the pore scale</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L03/Exercise.html">Exercises</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L03/Theory.html">Theoretical background</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Lecture 4</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../L04/Overview.html">Lecture overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L04/intro.html">Porous Flow - Submarine Hydrothermal Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L04/FirstCase.html">Hydrothermal convection test case</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L04/Exercise.html">Excercises</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Lecture 5</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Overview.html">Lecture overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="intro.html">Upflow temperatures in submarine hydrothermal systems</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Exercise 1: Fluid properties</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#fluid-properties-as-function-of-p-and-t">Fluid properties as function of p and T</a><ul>
<li class="toctree-l3"><a class="reference internal" href="plot_water_properties.html">Thermodynamic properties of pure water</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#fluxibility">Fluxibility</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Exercise2.html">Exercise 2: Fluxibility and Tvent</a></li>
<li class="toctree-l1"><a class="reference internal" href="Exercise3.html">Exercise 3: Permeability and Tvent</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Lecture 6</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../L06/Overview.html">Lecture overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L06/intro.html">Structural controls on hydrothermal flow</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L06/Exercise1.html">Exercise 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L06/Exercise2.html">Exercise 2</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Lecture 7</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../L_FVM/Overview.html">Lecture overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L_FVM/intro.html">FVM and OpenFoam</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L_FVM/Exercise1.html">Exercise 1</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Projects</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../L_PROJECTS/Project1.html">Project 1: Flow along a detachment fault</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L_PROJECTS/Project2.html">Project 2: How long can a magmatic intrusion sustain high temperature venting?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L_PROJECTS/Project3.html">Project 3: Hydrofracturing and localized venting above sill intrusion?</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">References</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../refs.html">References</a></li>
</ul>


    
        <p class="caption">
            <span class="caption-text">Getting help</span>
        </p>
        <ul>
            
                <li class="toctree-l1"><a href="https://lruepke.github.io/HTF_lecture/imprint/"><i class="fa fa-stamp"></i> Imprint</a></li>
            
                <li class="toctree-l1"><a href="mailto:lruepke@geomar.de"><i class="fa fa-envelope fa-fw"></i> Prof. Lars Ruepke</a></li>
            
                <li class="toctree-l1"><a href="mailto:zguo@geomar.de"><i class="fa fa-envelope fa-fw"></i> Dr. Zhikui Guo</a></li>
            
                <li class="toctree-l1"><a href="https://www.hydrothermalfoam.info"><i class="fa fa-gitlab fa-fw"></i> HydrothermalFoam</a></li>
            
                <li class="toctree-l1"><a href="https://www.openfoam.org"><i class="fa fa-github fa-fw"></i> OpenFOAM</a></li>
            
                <li class="toctree-l1"><a href="https://lruepke.github.io/HTF_lecture/"><i class="fa fa-home fa-fw"></i> Public site</a></li>
            
                <li class="toctree-l1"><a href="https://lms.uni-kiel.de/url/RepositoryEntry/3664576582"><i class="fa fa-home fa-fw"></i> University site</a></li>
            
        </ul>
    

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">HydrothermalFoam Lecture</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Exercise 1: Fluid properties</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/lruepke/HTF_lecture/blob/main/Summer2022/source/lectures/L05/Exercise1.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<section id="exercise-1-fluid-properties">
<span id="l05-exercise1"></span><h1>Exercise 1: Fluid properties<a class="headerlink" href="#exercise-1-fluid-properties" title="Link to this heading"></a></h1>
<p>Let’s start by computing some properties of pure water as a function of pressure and temperature.</p>
<figure class="align-center" id="fig-properties-water">
<img alt="../../_images/density_pt.svg" src="../../_images/density_pt.svg" /><figcaption>
<p><span class="caption-number">Fig. 28 </span><span class="caption-text">Pure water density as a function of temperature and pressure. Plot was made using the python package of <a class="reference external" href="https://iapws.readthedocs.io/en/latest/#">iapws</a>.</span><a class="headerlink" href="#fig-properties-water" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>We can use the python package iapws to compute the fluid properties. One way to do this is to call the IAPWS97 class and to specify the temperature and pressure. The class then returns a build-in datatype that holds all the properties.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># pressure and temperature in MPa, and C</span>
<span class="n">p</span><span class="p">,</span> <span class="n">T</span> <span class="o">=</span><span class="mi">35</span><span class="p">,</span> <span class="mi">300</span>

<span class="c1">#compute properties</span>
<span class="n">steam</span><span class="o">=</span><span class="n">iapws</span><span class="o">.</span><span class="n">IAPWS97</span><span class="p">(</span><span class="n">T</span><span class="o">=</span><span class="n">T</span><span class="o">+</span><span class="mf">273.15</span><span class="p">,</span> <span class="n">P</span><span class="o">=</span><span class="n">p</span><span class="p">)</span> <span class="c1"># note that iaapws uses temperature in K and pressure in MPa</span>

<span class="c1">#format the output for printing</span>
<span class="n">output_format</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{:&lt;17}</span><span class="s2"> = </span><span class="si">{:&gt;10.2f}</span><span class="s2"> </span><span class="si">{}</span><span class="se">\n</span><span class="s2">&quot;</span>
<span class="n">viscosity_format</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{:&lt;17}</span><span class="s2"> = </span><span class="si">{:&gt;10.2e}</span><span class="s2"> </span><span class="si">{}</span><span class="se">\n</span><span class="s2">&quot;</span>

<span class="n">output</span> <span class="o">=</span> <span class="p">(</span><span class="n">output_format</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">&quot;Density&quot;</span><span class="p">,</span> <span class="n">steam</span><span class="o">.</span><span class="n">rho</span><span class="p">,</span> <span class="s2">&quot;kg/m</span><span class="se">\u00B3</span><span class="s2">&quot;</span><span class="p">)</span> <span class="o">+</span>
         <span class="n">output_format</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">&quot;Specific heat&quot;</span><span class="p">,</span> <span class="n">steam</span><span class="o">.</span><span class="n">cp</span><span class="o">*</span><span class="mi">1000</span><span class="p">,</span> <span class="s2">&quot;J/(kg</span><span class="se">\u00B7</span><span class="s2">K)&quot;</span><span class="p">)</span> <span class="o">+</span>
         <span class="n">viscosity_format</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">&quot;Viscosity&quot;</span><span class="p">,</span> <span class="n">steam</span><span class="o">.</span><span class="n">mu</span><span class="p">,</span> <span class="s2">&quot;Pa</span><span class="se">\u00B7</span><span class="s2">s&quot;</span><span class="p">)</span> <span class="o">+</span>
         <span class="n">output_format</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">&quot;Specific enthalpy&quot;</span><span class="p">,</span> <span class="n">steam</span><span class="o">.</span><span class="n">h</span><span class="p">,</span> <span class="s2">&quot;J/kg&quot;</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="n">output</span><span class="p">)</span><span class="c1"># import water properties</span>
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">Density</span><span class="w">           </span><span class="o">=</span><span class="w">     </span><span class="m">757</span>.72<span class="w"> </span>kg/m³
Specific<span class="w"> </span><span class="nv">heat</span><span class="w">     </span><span class="o">=</span><span class="w">    </span><span class="m">4990</span>.59<span class="w"> </span>J/<span class="o">(</span>kg·K<span class="o">)</span>
<span class="nv">Viscosity</span><span class="w">         </span><span class="o">=</span><span class="w">   </span><span class="m">9</span>.47e-05<span class="w"> </span>Pa·s
Specific<span class="w"> </span><span class="nv">enthalpy</span><span class="w"> </span><span class="o">=</span><span class="w">    </span><span class="m">1326</span>.81<span class="w"> </span>J/kg
</pre></div>
</div>
<section id="fluid-properties-as-function-of-p-and-t">
<h2>Fluid properties as function of p and T<a class="headerlink" href="#fluid-properties-as-function-of-p-and-t" title="Link to this heading"></a></h2>
<p>Next we want to make plots of the fluid properties as a function of pressure and temperature. We can do this by looping over the pressure and temperature and computing the properties for each combination. We then store the properties and plot them.</p>
<p>Take this notebook as a starting point and make nice looking plots for the other fluid properties such as viscosity, specific heat, and enthalpy. You can find the documentation of the iapws package here: <a class="reference external" href="https://iapws.readthedocs.io/en/latest/">https://iapws.readthedocs.io/en/latest/</a></p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="plot_water_properties.html">Thermodynamic properties of pure water</a></li>
</ul>
</div>
<p>What happens when you chose a pressure below the critical pressure at 22.064 MPa?</p>
</section>
<section id="fluxibility">
<h2>Fluxibility<a class="headerlink" href="#fluxibility" title="Link to this heading"></a></h2>
<p>Use the same notbook to make plots of fluxibility as a function of temperature for different pressures. Would we expect different vent temperatures as a function of depth of the driving heat source?</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Dangers and Annoyances</p>
<p>Sometimes Visual Studio’s way of setting the python interpretor is not that “intuitive”. In principle, you set the the interpretor (your python environment) using CMD/CTRL+SHIFT+P and typing Python: Select Interpretor. Then you can chose the python environment of the class that has all the necessarry packages installed.</p>
<p>Problem is, .ipynb files also contain information on the interpretor that should be used with a notbook and Visual Studio uses that information. Therefore, if you download the scripts from us, there is a non-zero chance that your Visual Studio will chose the “wrong” interpretor and that you get an error message that certain packages are not installed.</p>
<p>In that case you need to follow a workaround. Rename your .ipynb file to .ipynb.json and open that file. Find the section on kernelspec:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;kernelspec&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="s2">&quot;display_name&quot;</span>:<span class="w"> </span><span class="s2">&quot;Python 3&quot;</span>,
<span class="s2">&quot;language&quot;</span>:<span class="w"> </span><span class="s2">&quot;python&quot;</span>,
<span class="s2">&quot;name&quot;</span>:<span class="w"> </span><span class="s2">&quot;python3&quot;</span>
<span class="o">}</span>,
</pre></div>
</div>
<p>and delete that entire section. Save the file again as a .ipynb file and re-open it in Visual Studio - and hope for the best.</p>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="intro.html" class="btn btn-neutral float-left" title="Upflow temperatures in submarine hydrothermal systems" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="plot_water_properties.html" class="btn btn-neutral float-right" title="Thermodynamic properties of pure water" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Lars Ruepke and Zhikui Guo.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>