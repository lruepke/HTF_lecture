


<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Example &mdash; HydrothermalFoam Lecture  documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/tabs.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/style.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/tabs.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Excercise" href="Exercise.html" />
    <link rel="prev" title="Navier-Stokes flow with OpenFoam" href="intro.html" /> 
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-EJ32EEFYRN"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-EJ32EEFYRN');
    </script>   

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> HydrothermalFoam Lecture
          

          
            
            <img src="../../_static/htf_picto2.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
    
            
            
              
            
            
              <p class="caption"><span class="caption-text">Course information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../general-info/course-details.html">Course details</a></li>
</ul>
<p class="caption"><span class="caption-text">Lecture 1</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../L01/Overview.html">Lecture overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L01/slide.html">Accompanying slide deck</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L01/Installation.html">Installation guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L01/OpenFoam.html">Getting started with OpenFoam</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L01/FirstCase.html">A first test case - heat diffusion</a></li>
</ul>
<p class="caption"><span class="caption-text">Lecture 2</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Overview.html">Lecture overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="slide.html">Accompanying slide deck</a></li>
<li class="toctree-l1"><a class="reference internal" href="intro.html">Navier-Stokes flow with OpenFoam</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Example</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#d-cavity-flow">2D cavity flow</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#preparing-the-case">Preparing the case</a></li>
<li class="toctree-l3"><a class="reference internal" href="#making-the-mesh">Making the mesh</a></li>
<li class="toctree-l3"><a class="reference internal" href="#boundary-conditions">Boundary conditions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#run-controls">Run controls</a></li>
<li class="toctree-l3"><a class="reference internal" href="#visualization">Visualization</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Exercise.html">Excercise</a></li>
</ul>
<p class="caption"><span class="caption-text">Lecture 3</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../L03/Overview.html">Lecture overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L03/slide.html">Accompanying slide deck</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L03/intro.html">Porous Flow - Submarine Hydrothermal Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L03/FirstCase.html">Hydrothermal convection test case</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L03/Exercise.html">Excercises</a></li>
</ul>
<p class="caption"><span class="caption-text">Lecture 4</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../L04/Overview.html">Lecture overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L04/intro.html">Upflow temperatures in submarine hydrothermal systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L04/Exercise1.html">Exercise 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L04/Exercise2.html">Exercise 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L04/Exercise3.html">Exercise 3</a></li>
</ul>
<p class="caption"><span class="caption-text">Lecture 5</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../L05/Overview.html">Lecture overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L05/intro.html">Structural controls on hydrothermal flow</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L05/Exercise1.html">Exercise 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L05/Exercise2.html">Exercise 2</a></li>
</ul>
<p class="caption"><span class="caption-text">Lecture 6</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../L_FVM/Overview.html">Lecture overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L_FVM/intro.html">FVM and OpenFoam</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L_FVM/Exercise1.html">Exercise 1</a></li>
</ul>
<p class="caption"><span class="caption-text">References</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../refs.html">References</a></li>
</ul>

            
          

    
        <p class="caption">
            <span class="caption-text">Getting help</span>
        </p>
        <ul>
            
                <li class="toctree-l1"><a href="mailto:lruepke@geomar.de"><i class="fa fa-envelope fa-fw"></i> Prof. Lars Ruepke</a></li>
            
                <li class="toctree-l1"><a href="mailto:zguo@geomar.de"><i class="fa fa-envelope fa-fw"></i> Dr. Zhikui Guo</a></li>
            
                <li class="toctree-l1"><a href="https://www.hydrothermalfoam.info"><i class="fa fa-gitlab fa-fw"></i> HydrothermalFoam</a></li>
            
                <li class="toctree-l1"><a href="https://www.openfoam.org"><i class="fa fa-github fa-fw"></i> OpenFOAM</a></li>
            
                <li class="toctree-l1"><a href="https://lruepke.github.io/HTF_lecture/"><i class="fa fa-home fa-fw"></i> Public site</a></li>
            
                <li class="toctree-l1"><a href="https://lms.uni-kiel.de/url/RepositoryEntry/3664576582"><i class="fa fa-home fa-fw"></i> University site</a></li>
            
        </ul>
    

        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">HydrothermalFoam Lecture</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Example</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            
              <a href="https://github.com/lruepke/HTF_lecture/blob/main//source/lectures/L02/Example.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="example">
<h1>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h1>
<div class="section" id="d-cavity-flow">
<h2>2D cavity flow<a class="headerlink" href="#d-cavity-flow" title="Permalink to this headline">¶</a></h2>
<p>Our first example of simulating Navier-Stokes flow is flow within a 2D cavity. Flow is driven by a kinematic boundary condition at one side, while all other sides are walls with zero velocity. The model setup is shown in <a class="reference internal" href="#fig-2dcavity-setup"><span class="std std-numref">Fig. 2</span></a> .</p>
<div class="figure align-center" id="fig-2dcavity-setup">
<img alt="../../_images/2d_cavity_setup.png" src="../../_images/2d_cavity_setup.png" />
<p class="caption"><span class="caption-number">Fig. 2 </span><span class="caption-text">Two-dimensional cavity model geometry and boundary conditions.</span><a class="headerlink" href="#fig-2dcavity-setup" title="Permalink to this image">¶</a></p>
</div>
<div class="section" id="preparing-the-case">
<h3>Preparing the case<a class="headerlink" href="#preparing-the-case" title="Permalink to this headline">¶</a></h3>
<p>Two-dimensional cavity flow is included in the official tutorials of OpenFoam. We get started by copying the tutorial case into our work directory. You need to do this from your docker shell.</p>
<div class="highlight-bash notranslate" id="lst-cp2dcavitytoworkdir"><div class="highlight"><pre><span></span><span class="nb">cd</span> <span class="nv">$HOME</span>/HydrothermalFoam_runs
cp <span class="nv">$FOAM_TUTORIALS</span>/incompressible/icoFoam/cavity/cavity ./cavity2D
</pre></div>
</div>
<p>Check the directory structure:</p>
<div class="highlight-bash notranslate" id="lst-2dcavity-dir"><div class="highlight"><pre><span></span>.
<span class="hll">├── <span class="m">0</span>
</span>│   ├── U
│   └── p
├── a.foam
├── clean.sh
<span class="hll">├── constant
</span>│   └── transportProperties
<span class="hll">└── system
</span>    ├── blockMeshDict
    ├── controlDict
    ├── fvSchemes
    └── fvSolution
</pre></div>
</div>
<p>The 0 directory now contains the boundary and initial conditions for pressure and velocity (our primary variables), the constant directory has the transport properties (here viscosity), and the system directory contains information on the mesh, time steps, numerical schemes etc.</p>
<p>The two files <code class="code docutils literal notranslate"><span class="pre">run.sh</span></code> and <code class="code docutils literal notranslate"><span class="pre">clean.sh</span></code> are actually not included and we need to create them. These files are usually part of every OpenFoam case; <code class="code docutils literal notranslate"><span class="pre">run.sh</span></code> includes all commands that need to executed to run the case and <code class="code docutils literal notranslate"><span class="pre">clean.sh</span></code> cleans the case (removes mesh and output directories).</p>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-number">Listing 6 </span><span class="caption-text">The run.sh file.</span><a class="headerlink" href="#id1" title="Permalink to this code">¶</a></div>
<div class="highlight-bash notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="ch">#!/bin/sh</span>
<span class="nb">cd</span> <span class="si">${</span><span class="nv">0</span><span class="p">%/*</span><span class="si">}</span> <span class="o">||</span> <span class="nb">exit</span> <span class="m">1</span>    <span class="c1"># Run from this directory</span>

<span class="c1"># Source tutorial run functions</span>
. <span class="nv">$WM_PROJECT_DIR</span>/bin/tools/RunFunctions

<span class="nv">application</span><span class="o">=</span><span class="sb">`</span>getApplication<span class="sb">`</span>

./clean.sh
runApplication blockMesh
runApplication <span class="nv">$application</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="literal-block-wrapper docutils container" id="lst-2dcav-clean-tree">
<div class="code-block-caption"><span class="caption-number">Listing 7 </span><span class="caption-text">The clean.sh file.</span><a class="headerlink" href="#lst-2dcav-clean-tree" title="Permalink to this code">¶</a></div>
<div class="highlight-bash notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="ch">#!/bin/sh</span>
<span class="nb">cd</span> <span class="si">${</span><span class="nv">0</span><span class="p">%/*</span><span class="si">}</span> <span class="o">||</span> <span class="nb">exit</span> <span class="m">1</span> <span class="c1"># run from this directory</span>

<span class="c1"># Source tutorial run functions</span>
. <span class="nv">$WM_PROJECT_DIR</span>/bin/tools/CleanFunctions
</pre></div>
</td></tr></table></div>
</div>
<p>Make the scripts executable.</p>
<div class="highlight-bash notranslate" id="lst-2dcavitychmod"><div class="highlight"><pre><span></span>chmod u+x clean.sh run.sh
</pre></div>
</div>
</div>
<div class="section" id="making-the-mesh">
<h3>Making the mesh<a class="headerlink" href="#making-the-mesh" title="Permalink to this headline">¶</a></h3>
<p>We will use OpenFoam’s blockMesh utility to make a simple 2D mesh. The corresponding <code class="code docutils literal notranslate"><span class="pre">blockMeshDict</span></code> file that has all the meshing information is located in the system folder.</p>
<div class="figure align-center" id="fig-cavity2d-bm">
<img alt="../../_images/cavity2d_bm.png" src="../../_images/cavity2d_bm.png" />
<p class="caption"><span class="caption-number">Fig. 3 </span><span class="caption-text">Structure of the blockMeshDict</span><a class="headerlink" href="#fig-cavity2d-bm" title="Permalink to this image">¶</a></p>
</div>
<p>First we need to define the vertices of the mesh, the nodes.</p>
<div class="figure align-center" id="fig-cavity2d-vertices">
<img alt="../../_images/cavity2d_vertices.png" src="../../_images/cavity2d_vertices.png" />
<p class="caption"><span class="caption-number">Fig. 4 </span><span class="caption-text">Numbering of the vertices.</span><a class="headerlink" href="#fig-cavity2d-vertices" title="Permalink to this image">¶</a></p>
</div>
<p>The next step is define the connectivity between the vertices in order to describe the modeling domain.</p>
<div class="figure align-center" id="fig-cavity2d-vorder">
<img alt="../../_images/cavity2d_vorder.png" src="../../_images/cavity2d_vorder.png" />
<p class="caption"><span class="caption-number">Fig. 5 </span><span class="caption-text">The order by which the vertices are passed to the hex command matters!</span><a class="headerlink" href="#fig-cavity2d-vorder" title="Permalink to this image">¶</a></p>
</div>
<div class="admonition-order-of-vertices admonition">
<p class="admonition-title">Order of vertices</p>
<p>The OpenFoam documentation provides a nice description of the vertices ordering.</p>
<ul class="simple">
<li><p>the axis origin is the first entry in the block definition, vertex 0 in our example</p></li>
<li><p>the x direction is described by moving from vertex 0 to vertex 1</p></li>
<li><p>the y direction is described by moving from vertex 1 to vertex 2</p></li>
<li><p>vertices 0, 1, 2, 3 define the plane z = 0</p></li>
<li><p>vertex 4 is found by moving from vertex 0 in the z direction</p></li>
<li><p>vertices 5,6 and 7 are similarly found by moving in the z direction from vertices 1,2 and 3 respectively.</p></li>
</ul>
</div>
<p>Next boundary patches are defined and labeled in the blockMeshDict. Also here care must be take to provide the vertices in a consistent order (right-hand coordinate system). Two easy ways to remember this is to:</p>
<blockquote>
<div><ul class="simple">
<li><p>apply the right-hand rule, which means if the thumb of your right hand points to the outside of a face, the numbering has to follow your fingers.</p></li>
<li><p>or, looking onto a face and starting from any vertex, the numbering has to be counter-clockwise.</p></li>
</ul>
</div></blockquote>
<div class="figure align-center" id="fig-cavity2d-bounds">
<img alt="../../_images/cavity2d_bounds.png" src="../../_images/cavity2d_bounds.png" />
<p class="caption"><span class="caption-number">Fig. 6 </span><span class="caption-text">Assigning boundary labels and types.</span><a class="headerlink" href="#fig-cavity2d-bounds" title="Permalink to this image">¶</a></p>
</div>
<p>Now we are ready to run the <code class="code docutils literal notranslate"><span class="pre">blockMesh</span></code> utility and create the mesh</p>
<div class="highlight-bash notranslate" id="lst-2dcavityrbm"><div class="highlight"><pre><span></span>blockMesh
</pre></div>
</div>
<p>You can visualize the mesh using paraview</p>
<div class="highlight-bash notranslate" id="lst-2dcavity-vizm"><div class="highlight"><pre><span></span>touch a.foam
paraview a.foam
</pre></div>
</div>
</div>
<div class="section" id="boundary-conditions">
<h3>Boundary conditions<a class="headerlink" href="#boundary-conditions" title="Permalink to this headline">¶</a></h3>
<p>We now have velocity and pressure as primary variables and need to set initial and boundary conditions for them. First we look at the velocity boundary conditions:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>code <span class="m">0</span>/u
</pre></div>
</div>
<div class="figure align-center" id="fig-cavity2d-u-fig">
<img alt="../../_images/cavity2d_u.png" src="../../_images/cavity2d_u.png" />
<p class="caption"><span class="caption-number">Fig. 7 </span><span class="caption-text">Velocity boundary conditions. The front and back sides are set to empty because we are doing a 2D calculation.</span><a class="headerlink" href="#fig-cavity2d-u-fig" title="Permalink to this image">¶</a></p>
</div>
<p>Next we look into the pressure boundary conditions.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>code <span class="m">0</span>/p
</pre></div>
</div>
<div class="literal-block-wrapper docutils container" id="lst-2dcavity-p">
<div class="code-block-caption"><span class="caption-number">Listing 8 </span><span class="caption-text">Pressure boundary conditions. Front and back are of type “emtpy” for 2-D runs.</span><a class="headerlink" href="#lst-2dcavity-p" title="Permalink to this code">¶</a></div>
<div class="highlight-foam notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*--------------------------------*- C++ -*----------------------------------*\</span>
<span class="cm">=========                 |</span>
<span class="cm">\\      /  F ield         | OpenFOAM: The Open Source CFD Toolbox</span>
<span class="cm"> \\    /   O peration     | Website:  https://openfoam.org</span>
<span class="cm">  \\  /    A nd           | Version:  7</span>
<span class="cm">   \\/     M anipulation  |</span>
<span class="cm">\*---------------------------------------------------------------------------*/</span>
<span class="k">FoamFile</span>
<span class="p">{</span>
    <span class="kt">version</span>     <span class="mf">2.0</span><span class="p">;</span>
    <span class="kt">format</span>      <span class="k">ascii</span><span class="p">;</span>
    <span class="kt">class</span>       <span class="n">volScalarField</span><span class="p">;</span>
    <span class="kt">object</span>      <span class="k">p</span><span class="p">;</span>
<span class="p">}</span>
<span class="c1">// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //</span>

<span class="hll"><span class="kt">dimensions</span>      <span class="p">[</span><span class="mi">0</span> <span class="mi">2</span> <span class="o">-</span><span class="mi">2</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span><span class="p">];</span>
</span>
<span class="kt">internalField</span>   <span class="k">uniform</span> <span class="mi">0</span><span class="p">;</span>

<span class="k">boundaryField</span>
<span class="p">{</span>
    <span class="n">movingWall</span>
    <span class="p">{</span>
        <span class="kt">type</span>            <span class="k">zeroGradient</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="n">fixedWalls</span>
    <span class="p">{</span>
        <span class="kt">type</span>            <span class="k">zeroGradient</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="n">frontAndBack</span>
    <span class="p">{</span>
        <span class="kt">type</span>            <span class="n">empty</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// ************************************************************************* //</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>One has to be careful about the dimensions of pressure in OpenFoam. In incompressible runs, like we are doing here, the pressure is usually the relative pressure <span class="math notranslate nohighlight">\(\frac{p}{\rho}\)</span> and has units <span class="math notranslate nohighlight">\(\frac{m^2}{s^2}\)</span></p>
</div>
</div>
<div class="section" id="run-controls">
<h3>Run controls<a class="headerlink" href="#run-controls" title="Permalink to this headline">¶</a></h3>
<p>The time stepping, run time, and output frequency are again set in <code class="code docutils literal notranslate"><span class="pre">system/controlDict</span></code>. Open it and check that you understand the entires.</p>
<p>In case you wondered how OpenFoam is solving the equations. We will cover the details later in the course, but you can have a preview by opening the <code class="code docutils literal notranslate"><span class="pre">system/fvSchemes</span></code> file. In this dictionary, the various discretization schemes can be set. <a class="reference internal" href="#fig-cavity2d-num-fig"><span class="std std-numref">Fig. 8</span></a> gives some further explanations.</p>
<div class="figure align-center" id="fig-cavity2d-num-fig">
<img alt="../../_images/cavity2_num.png" src="../../_images/cavity2_num.png" />
<p class="caption"><span class="caption-number">Fig. 8 </span><span class="caption-text">The exact discretization schemes can be set in <code class="code docutils literal notranslate"><span class="pre">system/fvSchemes</span></code>.</span><a class="headerlink" href="#fig-cavity2d-num-fig" title="Permalink to this image">¶</a></p>
</div>
<p>Time to run the case! Just start the solver</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>icoFoam
</pre></div>
</div>
<div class="admonition-technical-detail admonition">
<p class="admonition-title">Technical detail</p>
<p>The <code class="code docutils literal notranslate"><span class="pre">icoFoam</span></code> solver is actually using the PISO algorithm and the not the SIMPLE algorithm described above. SIMPLE is a steady-state solver, while PISO can also resolve transient flows. PISO also make some smart corrections for better convergence. We will learn about these technical issues later in this course.</p>
</div>
</div>
<div class="section" id="visualization">
<h3>Visualization<a class="headerlink" href="#visualization" title="Permalink to this headline">¶</a></h3>
<p>Open paraview and look at the results.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="Exercise.html" class="btn btn-neutral float-right" title="Excercise" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="intro.html" class="btn btn-neutral float-left" title="Navier-Stokes flow with OpenFoam" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, Lars Ruepke and Zhikui Guo.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>